<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NewsFeed App</title>
</head>
<body>
    <header>

    </header>
    <main>
        <h1>Cactus l'actu qui pique</h1>
        <p>Pour le moment ce site affiche les 20 derniers gros titres pour le territoire français</p>
        <div class="affichage">

        </div>

    </main>
    <footer>

    </footer>
    
    <script>
        
        //Stockage de l'adresse de l'API
        const baseUrl= "http://newsapi.org/v2/top-headlines?country=fr&apiKey=67a1e7eeda5e4b8a8498ba7f372c3cfe";

        //Récupération des données
        const data = fetch(`${baseUrl}`)
            .then (function(response)
                {
                return response.json();
                }
            )
            .then(function(data){

                const affichage = document.querySelector("div"); 

                const articles = data.articles;
                console.log(articles)
                for(var i = 0; i < articles.length; i++){
                    
                    const titre = articles[i].title;
                    const description = articles[i].description;
                    const url = articles[i].url;
                    const urlToImage = articles[i].urlToImage;
                    affichage.innerHTML += `<div><h2>${titre}</h2><img src="${urlToImage}"><p>${description}</p><a href='${url}'>Lire l'article</a></div>`;
                }     
                
            })    
            
            ;
        
    </script>
</body>
</html>